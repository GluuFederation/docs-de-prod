
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documenation for the Gluu Server Cluster">
      
      
      
      
        <link rel="shortcut icon" href="../..//img/gluu_favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>Web Interface - Gluu Cluster Docs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
	 <div class="md-flex__cell md-flex__cell--shrink">
	    <a href="https://gluu.org/docs/" title="Gluu Cluster Docs" class=" md-logo  md-header-nav__button">
          
            <img src="../../gluu.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Admin Guide
                </span>
              
            
            Web Interface
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/GluuFederation/docs-de-prod/tree/3.0.0/3.0.0" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
   </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">

  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-logo  md-nav__button">
      
        <img src="../../gluu.jpg">
      
    </i>
    Gluu Cluster Docs
	<label for="Versions">Ver:
	  <select id="versions" onchange="window.location.href=this.value;" style="
		position: inherit;
		display: inline;
		min-width: 25%;
		/* width: 120%; */
		height: 22px;
		padding: 5px 15px 5px 5px;
		color: black;
		border: none;
		background: transparent;
		outline: none;
		-webkit-appearance: none;
		z-index: 99;
		cursor: pointer;
		font-size: 10px;
		margin-bottom: 10px;
		border: 1px solid black;
		overflow: auto
	">
	  <option value="/docs/de/alpha">Alpha Release</option>
	  <!-- <option value="/docs/2.4.4">2.4.4</option> -->
		</select> 
	</label>
  </label>
    
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GluuFederation/docs-de-prod/tree/3.0.0/3.0.0" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Admin Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-2">
        Admin Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../overview/" title="Overview" class="md-nav__link">
        Overview
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installation/" title="Installation" class="md-nav__link">
        Installation
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../getting-started/" title="Getting Started" class="md-nav__link">
        Getting Started
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../cluster-management/" title="Cluster Management" class="md-nav__link">
        Cluster Management
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../components/" title="Components" class="md-nav__link">
        Components
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Web Interface
      </label>
    
    <a href="./" title="Web Interface" class="md-nav__link md-nav__link--active">
      Web Interface
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-interface" title="Accessing the Interface" class="md-nav__link">
    Accessing the Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-web-interface" title="Using the Web Interface" class="md-nav__link">
    Using the Web Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-cluster" title="Managing Cluster" class="md-nav__link">
    Managing Cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-provider" title="Managing Provider" class="md-nav__link">
    Managing Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-nodes" title="Managing Nodes" class="md-nav__link">
    Managing Nodes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-discovery-node" title="Managing Discovery Node" class="md-nav__link">
    Managing Discovery Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-master-node" title="Managing Master Node" class="md-nav__link">
    Managing Master Node
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-containers" title="Managing Containers" class="md-nav__link">
    Managing Containers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-license-key" title="Managing License Key" class="md-nav__link">
    Managing License Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-additional-worker-nodes" title="Managing Additional Worker Nodes" class="md-nav__link">
    Managing Additional Worker Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-containers-in-worker-node" title="Managing Containers in Worker Node" class="md-nav__link">
    Managing Containers in Worker Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-oxauth-container" title="Scaling oxAuth Container" class="md-nav__link">
    Scaling oxAuth Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewing-cluster-setup" title="Reviewing Cluster Setup" class="md-nav__link">
    Reviewing Cluster Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#history" title="History" class="md-nav__link">
    History
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
        Troubleshooting
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../recovery/" title="Recovery" class="md-nav__link">
        Recovery
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../migration/" title="Migration" class="md-nav__link">
        Migration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../known-issues/" title="Known Issues" class="md-nav__link">
        Known Issues
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      API Section
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        API Section
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/cluster/" title="Cluster" class="md-nav__link">
        Cluster
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/provider/" title="Provider" class="md-nav__link">
        Provider
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/node/" title="Node" class="md-nav__link">
        Node
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/container/" title="Container" class="md-nav__link">
        Container
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/container_log/" title="Container Log" class="md-nav__link">
        Container Log
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/api/license_key/" title="License Key" class="md-nav__link">
        License Key
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-interface" title="Accessing the Interface" class="md-nav__link">
    Accessing the Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-web-interface" title="Using the Web Interface" class="md-nav__link">
    Using the Web Interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-cluster" title="Managing Cluster" class="md-nav__link">
    Managing Cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-provider" title="Managing Provider" class="md-nav__link">
    Managing Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-nodes" title="Managing Nodes" class="md-nav__link">
    Managing Nodes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-discovery-node" title="Managing Discovery Node" class="md-nav__link">
    Managing Discovery Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-master-node" title="Managing Master Node" class="md-nav__link">
    Managing Master Node
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-containers" title="Managing Containers" class="md-nav__link">
    Managing Containers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-license-key" title="Managing License Key" class="md-nav__link">
    Managing License Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-additional-worker-nodes" title="Managing Additional Worker Nodes" class="md-nav__link">
    Managing Additional Worker Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-containers-in-worker-node" title="Managing Containers in Worker Node" class="md-nav__link">
    Managing Containers in Worker Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-oxauth-container" title="Scaling oxAuth Container" class="md-nav__link">
    Scaling oxAuth Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewing-cluster-setup" title="Reviewing Cluster Setup" class="md-nav__link">
    Reviewing Cluster Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#history" title="History" class="md-nav__link">
    History
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/GluuFederation/docs-de-prod/tree/3.0.0/3.0.0/source/admin-guide\webui\index.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <div class="toc">
<ul>
<li><a href="#cluster-management-using-web-interface">Cluster Management using Web Interface</a><ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#accessing-the-interface">Accessing the Interface</a></li>
<li><a href="#using-the-web-interface">Using the Web Interface</a><ul>
<li><a href="#managing-cluster">Managing Cluster</a></li>
<li><a href="#managing-provider">Managing Provider</a></li>
<li><a href="#managing-nodes">Managing Nodes</a><ul>
<li><a href="#managing-discovery-node">Managing Discovery Node</a></li>
<li><a href="#managing-master-node">Managing Master Node</a></li>
</ul>
</li>
<li><a href="#managing-containers">Managing Containers</a></li>
<li><a href="#managing-license-key">Managing License Key</a></li>
<li><a href="#managing-additional-worker-nodes">Managing Additional Worker Nodes</a></li>
<li><a href="#managing-containers-in-worker-node">Managing Containers in Worker Node</a></li>
<li><a href="#scaling-oxauth-container">Scaling oxAuth Container</a></li>
<li><a href="#reviewing-cluster-setup">Reviewing Cluster Setup</a></li>
</ul>
</li>
<li><a href="#history">History</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="cluster-management-using-web-interface">Cluster Management using Web Interface<a class="headerlink" href="#cluster-management-using-web-interface" title="Permanent link">#</a></h1>
<p>The web interface provides a user friendly way of using the API and managing the various resources of the cluster.</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h2>
<p>The installation of the web interface is covered in the Installation Section.</p>
<ul>
<li><a href="../../installation/#installing-gluu-engine-and-gluu-webui-image">Install Web Interface Package</a></li>
</ul>
<h2 id="accessing-the-interface">Accessing the Interface<a class="headerlink" href="#accessing-the-interface" title="Permanent link">#</a></h2>
<p>To log into the web interface, it is necessary to ssh into the control machine, as the interface is run locally and it is not facing the internet for security reasons.</p>
<p>Run the following command to SSH for accessing the web interface:</p>
<p><code>ssh -L 8800:localhost:8800 &lt;ssh-user&gt;@&lt;ssh-host&gt;</code></p>
<p>Point your browser to the following address to access the webui:</p>
<p><code>http://localhost:8800</code></p>
<h2 id="using-the-web-interface">Using the Web Interface<a class="headerlink" href="#using-the-web-interface" title="Permanent link">#</a></h2>
<h3 id="managing-cluster">Managing Cluster<a class="headerlink" href="#managing-cluster" title="Permanent link">#</a></h3>
<p>When we access the interface for the first time, the following screen will appear:</p>
<p><img alt="Empty cluster" src="../../../img/webui/cluster-empty.png" /></p>
<p>To create a new cluster, click the "New Cluster" button. A new form with various fields will appear:</p>
<p><img alt="New cluster part 1" src="../../../img/webui/cluster-new-1.png" /></p>
<p>Each field is mandatory, except "Description".</p>
<p><img alt="New cluster part 2" src="../../../img/webui/cluster-new-2.png" /></p>
<p>In the screen above, we use <code>ox.example.weave.local</code> as an example of cluster domain.
To access the cluster, type <code>https://ox.example.weave.local</code> in browser's address bar.
In production, use our actual domain instead, e.g. <code>my-gluu-cluster.com</code>.
Note, this domain must be resolvable via DNS; otherwise the cluster will not work as expected.</p>
<p>Please remember, all URLs must be prefixed with <code>https</code>. That means we need to provide SSL certificate and key.
In Gluu Docker Edition, the certificate and key are called <code>nginx.crt</code> and <code>nginx.key</code> respectively, as we are using <code>nginx</code> as frontend.
So for example, if we have <code>my-ssl.crt</code> and <code>my-ssl.key</code>, we need to rename them to <code>nginx.crt</code> and <code>nginx.key</code>.
Afterwards, put them under <code>/var/lib/gluuengine/ssl_certs</code> directory (create the directory if not exist).</p>
<p>Now back to cluster overview.</p>
<p><img alt="Cluster details" src="../../../img/webui/cluster-details.png" /></p>
<p>As we have created a new cluster, a table will appear showing existing cluster information.
To see the details, click the link under "Name" header row. A new table will appear below the main table.
To delete the cluster, click the "Delete" button (the red box) under "Actions" header row.</p>
<p>Now we can continue creating Provider.</p>
<h3 id="managing-provider">Managing Provider<a class="headerlink" href="#managing-provider" title="Permanent link">#</a></h3>
<p>Provider represents a service (typically a cloud provider) that host the nodes. There are various provider type (driver) supported by Gluu Cluster Docker Edition at the moment:</p>
<ol>
<li><code>digitalocean</code> for DigitalOcean</li>
<li><code>aws</code> for Amazon AWS EC2</li>
<li><code>generic</code> for any generic service</li>
</ol>
<p><img alt="Empty provider" src="../../../img/webui/provider-empty.png" /></p>
<p>Note, we will use <code>digitalocean</code> provider throughout this page.</p>
<p>To create a new provider, select dropdown as seen in screenshot above. A new form will appear as seen below:</p>
<p><img alt="New provider" src="../../../img/webui/provider-new.png" /></p>
<p>This <code>digitalocean</code> provider form has different fields with the ones that used for <code>aws</code> or <code>generic</code> provider.
Refer to <a href="../../../reference/api/provider/#create-new-provider">Provider</a> API for details.</p>
<p>Once provider has been created, we will be redirected to a page where we can see a list of providers.
To see each provider's details, we can click a link under "ID" header row.</p>
<p><img alt="Provider details" src="../../../img/webui/provider-details.png" /></p>
<p>Now let's continue to Node management.</p>
<h3 id="managing-nodes">Managing Nodes<a class="headerlink" href="#managing-nodes" title="Permanent link">#</a></h3>
<p>Node represents the actual server to host containers.
There are 3 node types supported by Gluu Docker Edition at the moment:</p>
<ol>
<li>Discovery</li>
<li>Master</li>
<li>Worker (optional)</li>
</ol>
<p>A full reference to Node API is available at <a href="../../../reference/api/node">Node API page</a>.</p>
<h4 id="managing-discovery-node">Managing Discovery Node<a class="headerlink" href="#managing-discovery-node" title="Permanent link">#</a></h4>
<p>To create a new node, click the "New Node" button:</p>
<p><img alt="Empty node" src="../../../img/webui/node-empty.png" /></p>
<p>A new form will appear and we can choose to create 3 different nodes, but since we don't have any node yet, the first node we must create is the discovery node.
The role of this node is to provide node discovery (adding/removing/searching) for all nodes in the cluster.</p>
<p><img alt="New discovery node" src="../../../img/webui/node-new-discovery.png" /></p>
<p>Click the "Add Node" button as seen above and we will be redirected to a new page where we can see list of available nodes and their details.</p>
<p><img alt="Discovery node details" src="../../../img/webui/node-details-discovery.png" /></p>
<p>As we can see, there are various <code>state_*</code> attributes. Each of this attribute marks the progress of node deployment.
Eventually these attributes will be marked as finished (or <code>true</code> in this context) one by one.</p>
<p>To see the progress of node deployment, we need to run a command in the shell:</p>
<pre><code>tailf /var/log/gluuengine/node.log
</code></pre>

<p>Below is an example of discovery node deployment log:</p>
<p><img alt="Discovery node log" src="../../../img/webui/node-log-discovery.png" /></p>
<p>Note, we cannot deploy any Gluu container in discovery node, hence we need to create another node ... the Master node.</p>
<h4 id="managing-master-node">Managing Master Node<a class="headerlink" href="#managing-master-node" title="Permanent link">#</a></h4>
<p>To create master node, repeat the process. When the form is shown, choose "Master" in "Type" dropdown field.</p>
<p><img alt="New master node" src="../../../img/webui/node-new-master.png" /></p>
<p>Click the "Add Node" button as seen above and we will be redirected back and see there's new master node listed there.</p>
<p><img alt="Master node details" src="../../../img/webui/node-details-master.png" /></p>
<p>To see the progress of the new node deployment, repeat this command in the shell:</p>
<pre><code>tailf /var/log/gluuengine/node.log
</code></pre>

<p>Below is an example of master node deployment log:</p>
<p><img alt="Master node log" src="../../../img/webui/node-log-master.png" /></p>
<p>As we already have discovery and master nodes, let's start deploying Gluu container.</p>
<h3 id="managing-containers">Managing Containers<a class="headerlink" href="#managing-containers" title="Permanent link">#</a></h3>
<p>There are 2 ways to deploy container(s):</p>
<ol>
<li>Using <code>New Container</code> button: only a single container can be selected.</li>
<li>Using <code>Scale Containers</code> button: deploy multiple <code>oxauth</code> containers. We will cover this feature later.</li>
</ol>
<p><img alt="Empty container" src="../../../img/webui/container-empty.png" /></p>
<p>To ensure the cluster running as expected, the deployment should follow the following order:</p>
<ol>
<li><code>ldap</code></li>
<li><code>oxauth</code></li>
<li><code>oxtrust</code> (can be deployed only in master node)</li>
<li><code>nginx</code></li>
</ol>
<p>Click the "New Container" button and a new form will appear:</p>
<p><img alt="New container" src="../../../img/webui/container-new.png" /></p>
<p>Choose "LDAP" in "Container Type" dropdown field and select existing node; in this case the "gluu-master" (master node). Remember, don't choose discovery node as it doesn't support Gluu container deployment.</p>
<p>Once the container has been created, it will be listed in a table as seen below:
<img alt="Container details" src="../../../img/webui/container-details-single.png" /></p>
<p>Clicking the link under "Name" header row will show us the container's details.
As we can see, the <code>ldap</code> container marked as <code>IN_PROGRESS</code>. That means the deployment is running (it may take a while to finish the whole process though). To see the progress, click the "Search" button under "Logs" header row.</p>
<p>When "Search" button is clicked, a new "Setup" button will replace the old button under "Logs" header row. See the screenshot below:</p>
<p><img alt="Container details with setup button" src="../../../img/webui/container-details-setup-button.png" /></p>
<p>Click the "Setup" button and we will be redirected to a page where we can see the container deployment log.</p>
<p><img alt="Container log" src="../../../img/webui/container-log.png" /></p>
<p>To complete cluster setup, repeat the process of deploying container for <code>oxauth</code>, <code>oxtrust</code>, and <code>nginx</code>.</p>
<p><img alt="Container details" src="../../../img/webui/container-details-full.png" /></p>
<p>Once we have those 4 container types (all of them should be marked as SUCCESS though), we already have a basic cluster setup that should work as expected.</p>
<p>Let's continue to add more nodes (including license key management, scaling containers, etc.) in next sections.</p>
<h3 id="managing-license-key">Managing License Key<a class="headerlink" href="#managing-license-key" title="Permanent link">#</a></h3>
<p>Before adding any additional <code>worker</code> node, we need to add license first by clicking the "New License Key" button.</p>
<p><img alt="Empty license" src="../../../img/webui/license-empty.png" /></p>
<p>A new form will appear and we need to fill all the fields.</p>
<p><img alt="New license" src="../../../img/webui/license-new.png" /></p>
<p>We can use any value for "Name" field, but we need to match the values for "Code" (or "licenseId"), "Public Key", "Public Password", and "License Password" fields with license we retrieved from Gluu.</p>
<p><img alt="License details" src="../../../img/webui/license-details.png" /></p>
<p>Once the license has been created, the license will be validated.
If the license is valid or not expired, we can continue to add more nodes and deploy containers in those new nodes.</p>
<h3 id="managing-additional-worker-nodes">Managing Additional Worker Nodes<a class="headerlink" href="#managing-additional-worker-nodes" title="Permanent link">#</a></h3>
<p>To create worker node, repeat the process of creating new node. When the form is shown, choose "Worker" in "Type" dropdown field.</p>
<p><img alt="New worker node" src="../../../img/webui/node-new-worker.png" /></p>
<p>Click the "Add Node" button as seen above and we will be redirected back and see there's new worker node listed there.</p>
<p><img alt="Worker node details" src="../../../img/webui/node-details-worker.png" /></p>
<p>To see the progress of the new node deployment, repeat this command in the shell:</p>
<pre><code>tailf /var/log/gluuengine/node.log
</code></pre>

<p>Below is an example of worker node deployment log:</p>
<p><img alt="Worker node log" src="../../../img/webui/node-log-worker.png" /></p>
<p>We can add more worker nodes, but in this example we will not add them anymore. Instead let's deploy containers to worker node.</p>
<h3 id="managing-containers-in-worker-node">Managing Containers in Worker Node<a class="headerlink" href="#managing-containers-in-worker-node" title="Permanent link">#</a></h3>
<p>To deploy container in worker node, repeat the same process as we did in master node, but remember to choose the worker node in "Node ID" dropdown.</p>
<p>Below is an example of how to deploy <code>nginx</code> container in worker node:</p>
<p><img alt="New nginx container" src="../../../img/webui/container-new-worker.png" /></p>
<p>Note: In worker node, we are only allowed to deploy <code>ldap</code>, <code>oxauth</code>, and <code>nginx</code> container.</p>
<h3 id="scaling-oxauth-container">Scaling oxAuth Container<a class="headerlink" href="#scaling-oxauth-container" title="Permanent link">#</a></h3>
<p>To scale <code>oxauth</code> container (deploying multiple instances at once), we can use the scaling feature introduced in <code>gluuengine</code> version 0.5.0.</p>
<p>Let's get back to page where containers are listed. Click the "Containers" left pane menu and the buttons will be available as shown below:</p>
<p><img alt="Scale container button" src="../../../img/webui/container-empty-buttons.png" /></p>
<p>Click the "Scale Containers" button and new form will appear:</p>
<p><img alt="Scaling container" src="../../../img/webui/container-scaling.png" /></p>
<p>In the screenshot above, we're telling the app to deploy <strong>2 instances</strong> of <strong>oxAuth</strong> container into the cluster.
Afterwards click the "Scale" button and we will be redirected to list of containers page:</p>
<p><img alt="Container list scaled" src="../../../img/webui/container-list-scaled.png" /></p>
<p>As we can see, there are 2 new oxAuth containers deployed in master and worker node (see the bottom 2 of the table above).</p>
<p>In addition, there's a counterpart of scaling feature called descaling:</p>
<p><img alt="Descaling container" src="../../../img/webui/container-descaling.png" /></p>
<p>The form is identical to scaling one, but we need to check the tickbox above the "Scale" button. What this descaling feature do is removing <strong>n instances</strong> of oxAuth container from the cluster.</p>
<p>With these scale/descale features, we can add or remove oxAuth containers easier than before.</p>
<h3 id="reviewing-cluster-setup">Reviewing Cluster Setup<a class="headerlink" href="#reviewing-cluster-setup" title="Permanent link">#</a></h3>
<p>As we have multi-nodes with various containers deployed into the cluster, let's take a review of our cluster.
To see an overview of what our cluster looks like, click the Gluu's logo (top left corner) in the app.</p>
<p><img alt="Cluster overview 1" src="../../../img/webui/cluster-overview-1.png" /></p>
<p>We can see how many nodes deployed in the cluster.</p>
<p><img alt="Cluster overview 2" src="../../../img/webui/cluster-overview-2.png" /></p>
<p>And yes, we can see how many containers deployed in the cluster.</p>
<h2 id="history">History<a class="headerlink" href="#history" title="Permanent link">#</a></h2>
<p>All the create requests made by the Web UI is saved in the file called  <code>config-history.log</code>. Each post request generate 3 lines of log:</p>
<ol>
<li>The date and time of logging</li>
<li>The cUrl command equivalent of the POST request made from the web interface</li>
<li>The status code of the response provided by the API server</li>
</ol>
<p>The log can be accessed from the browser at <code>http://localhost:8800/static/config-history.log</code></p>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../components/" title="Components" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Components
              </span>
            </div>
          </a>
        
        
          <a href="../troubleshooting/" title="Troubleshooting" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Troubleshooting
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017, Gluu, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>